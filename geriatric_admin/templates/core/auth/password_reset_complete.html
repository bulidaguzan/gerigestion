{% extends 'base_modern.html' %}
{% load static %}

{% block title %}{{ page_title }} - {{ site_name }}{% endblock %}

{% block extra_css %}
<style>
    .password-reset-container {
        max-width: 500px;
        margin: 50px auto;
        padding: 40px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
    }
    
    .success-icon {
        font-size: 4rem;
        color: #28a745;
        margin-bottom: 20px;
    }
    
    .success-title {
        color: #333;
        margin-bottom: 15px;
        font-size: 1.8rem;
        font-weight: 600;
    }
    
    .success-message {
        color: #6c757d;
        font-size: 16px;
        line-height: 1.6;
        margin-bottom: 30px;
    }
    
    .next-steps {
        background: #d4edda;
        border: 1px solid #c3e6cb;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 30px;
        text-align: left;
    }
    
    .next-steps h5 {
        color: #155724;
        margin-bottom: 10px;
        font-weight: 600;
    }
    
    .next-steps ul {
        margin: 0;
        padding-left: 20px;
        color: #155724;
    }
    
    .next-steps li {
        margin-bottom: 8px;
    }
    
    .security-reminder {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 30px;
        text-align: left;
    }
    
    .security-reminder h6 {
        color: #495057;
        margin-bottom: 10px;
        font-weight: 600;
    }
    
    .security-reminder p {
        color: #6c757d;
        margin-bottom: 10px;
        font-size: 14px;
    }
    
    .btn-signin {
        display: inline-block;
        padding: 12px 30px;
        font-size: 16px;
        font-weight: 600;
        text-decoration: none;
        color: white;
        background: #007bff;
        border: 2px solid #007bff;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    
    .btn-signin:hover {
        background: #0056b3;
        border-color: #0056b3;
        color: white;
        text-decoration: none;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .help-text {
        margin-top: 20px;
        color: #6c757d;
        font-size: 14px;
    }
    
    .help-text a {
        color: #007bff;
        text-decoration: none;
    }
    
    .help-text a:hover {
        text-decoration: underline;
    }
    
    .checkmark-animation {
        animation: checkmark 0.6s ease-in-out;
    }
    
    @keyframes checkmark {
        0% {
            transform: scale(0);
            opacity: 0;
        }
        50% {
            transform: scale(1.2);
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="password-reset-container">
        <div class="success-icon checkmark-animation">
            <i class="fa fa-check-circle"></i>
        </div>
        
        <h2 class="success-title">Restablecimiento de Contraseña Completado</h2>
        
        <p class="success-message">
            Tu contraseña ha sido restablecida exitosamente. Ahora puedes iniciar sesión en tu cuenta usando tu nueva contraseña.
        </p>
        
        <div class="next-steps">
            <h5><i class="fa fa-arrow-right me-2"></i>Próximos Pasos:</h5>
            <ul>
                <li>Inicia sesión con tu nueva contraseña</li>
                <li>Considera habilitar la autenticación de dos factores para mayor seguridad</li>
                <li>Mantén tu contraseña segura y no la compartas con otros</li>
                <li>Actualiza tu contraseña regularmente para mejor seguridad</li>
            </ul>
        </div>
        
        <div class="security-reminder">
            <h6><i class="fa fa-shield-alt me-2"></i>Recordatorios de Seguridad:</h6>
            <p><strong>Seguridad de Contraseña:</strong> Elige contraseñas fuertes y únicas, y nunca las reutilices en diferentes cuentas.</p>
            <p><strong>Protección de Cuenta:</strong> Habilita la autenticación de dos factores si está disponible para mayor seguridad.</p>
            <p><strong>Actualizaciones Regulares:</strong> Cambia tu contraseña periódicamente para mantener la seguridad de tu cuenta.</p>
        </div>
        
        <a href="{% url 'core:login' %}" class="btn-signin">
            <i class="fa fa-sign-in-alt me-2"></i>
            Iniciar Sesión Ahora
        </a>
        
        <div class="help-text">
            <p>
                ¿Tienes problemas para iniciar sesión? 
                <a href="{% url 'core:password_reset_request' %}">Solicita otro restablecimiento de contraseña</a>
            </p>
            <p>
                ¿Necesitas ayuda? Contacta al administrador del sistema para obtener asistencia.
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Add a small delay to show the success animation
    setTimeout(function() {
        const container = document.querySelector('.password-reset-container');
        container.style.opacity = '1';
        container.style.transform = 'translateY(0)';
    }, 100);
    
    // Auto-redirect to login page after 10 seconds
    setTimeout(function() {
        window.location.href = "{% url 'core:login' %}";
    }, 10000);
    
    // Show countdown for auto-redirect
    let countdown = 10;
    const countdownElement = document.createElement('div');
    countdownElement.className = 'help-text';
    countdownElement.innerHTML = `<p>Serás redirigido automáticamente a la página de inicio de sesión en <span id="countdown">${countdown}</span> segundos.</p>`;
    
    const container = document.querySelector('.password-reset-container');
    container.appendChild(countdownElement);
    
    const countdownInterval = setInterval(function() {
        countdown--;
        const countdownSpan = document.getElementById('countdown');
        if (countdownSpan) {
            countdownSpan.textContent = countdown;
        }
        
        if (countdown <= 0) {
            clearInterval(countdownInterval);
        }
    }, 1000);
});
</script>
{% endblock %} 
